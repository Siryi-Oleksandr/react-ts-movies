{"version":3,"file":"static/js/848.5c666fca.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.styled.tsx","components/Reviews/Reviews.tsx","components/services/moviesApi.ts"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  padding-bottom: 20px;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n\n  border-bottom: 1px solid black;\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {movieAPI} from 'components/services/moviesApi';\nimport { List } from './Reviews.styled';\nimport type {\n  IReviewInfo\n} from \"types/movieTypes\";\n\nfunction Reviews() {\n  const [reviews, setReviews] = useState<IReviewInfo[] | []>([]);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const abortConroller = new AbortController();\n\n     if (movieId) {\n     movieAPI.getMovieReviews(movieId, abortConroller).then(setReviews);\n    }\n\n    return () => {\n      abortConroller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <div>\n      <List>\n        {reviews.map((review) => (\n          <li key={review.id}>\n            <h3>{review.author}</h3>\n            <p>{review.content}</p>\n          </li>\n        ))}\n      </List>\n    </div>\n  );\n}\n\nexport default Reviews;\n","import axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// #API_KEY = 'd03712107dcdd723f1173c5ee2c0d8c1';\n\nconst agent = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: { api_key: 'd03712107dcdd723f1173c5ee2c0d8c1' },\n});\n\nclass MovieAPI {\n  public async getTrendingMovies() {\n    try {\n      const movies = await agent.get('trending/movie/day', {\n        params: {\n          language: 'en-US',\n        },\n      });\n      if (movies.status === 204) {\n        throw new Error('no movies');\n      }\n      return movies?.data?.results;\n    } catch (error) {\n      toast.error('Something went wrong ðŸ˜¥!');\n      console.error(error);\n    }\n  }\n\n  public async getMoviesByQuery(query: string, controller: AbortController) {\n    try {\n      const movies = await agent.get('search/movie', {\n        params: {\n          query,\n          signal: controller.signal,\n        },\n      });\n\n      return movies?.data?.results;\n    } catch (error) {\n      toast.error('Something went wrong ðŸ˜¥!');\n      console.error(error);\n    }\n  }\n\n  public async getMoviesDetailsById(id: string, controller: AbortController) {\n    try {\n      const movie = await agent.get(`movie/${id}`, {\n        params: {\n          signal: controller.signal,\n        },\n      });\n\n      return movie?.data;\n    } catch (error) {\n      toast.error('Something went wrong ðŸ˜¥!');\n      console.error(error);\n    }\n  }\n\n  public async getMovieCast(id: string, controller: AbortController) {\n    try {\n      const actors = await agent.get(`movie/${id}/credits`, {\n        params: {\n          signal: controller.signal,\n        },\n      });\n\n      return actors?.data?.cast;\n    } catch (error) {\n      toast.error('Something went wrong ðŸ˜¥!');\n      console.error(error);\n    }\n  }\n\n  public async getMovieReviews(id: string, controller: AbortController) {\n    try {\n      const reviews = await agent.get(`movie/${id}/reviews`, {\n        params: {\n          signal: controller.signal,\n        },\n      });\n\n      return reviews?.data?.results;\n    } catch (error) {\n      toast.error('Something went wrong ðŸ˜¥!');\n      console.error(error);\n    }\n  }\n}\n\nconst movieAPI = new MovieAPI();\n\nexport { movieAPI };\n"],"names":["List","styled","ul","_templateObject","_taggedTemplateLiteral","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","movieId","useParams","useEffect","abortConroller","AbortController","movieAPI","getMovieReviews","then","abort","_jsx","children","map","review","_jsxs","author","content","id","agent","axios","create","baseURL","params","api_key","MovieAPI","_classCallCheck","_createClass","key","value","_getTrendingMovies","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_movies$data","movies","wrap","_context","prev","next","get","language","sent","status","Error","abrupt","data","results","t0","toast","error","console","stop","apply","arguments","_getMoviesByQuery","_callee2","query","controller","_movies$data2","_context2","signal","_x","_x2","_getMoviesDetailsById","_callee3","movie","_context3","concat","_x3","_x4","_getMovieCast","_callee4","_actors$data","actors","_context4","cast","_x5","_x6","_getMovieReviews","_callee5","_reviews$data","_context5","_x7","_x8"],"sourceRoot":""}